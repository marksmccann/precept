!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).precept={})}(this,(function(t){"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);s=!0);}catch(t){u=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return c}}(t,n)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}function o(t,e,n){return(e=i(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function s(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function u(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,s(t,e,"set"),n),n}function l(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,s(t,e,"get"))}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O(r.key),r)}}function h(t,e,n){return(e=O(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}function m(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function O(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var w,j;function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}var S=new Set,P=new WeakMap,A=new WeakMap,_=new WeakMap,W=new WeakMap,C=new WeakMap,M=new WeakMap,x=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,t),E(this,P,{writable:!0,value:new Map}),E(this,A,{writable:!0,value:!1}),E(this,_,{writable:!0,value:new Map}),E(this,W,{writable:!0,value:new Set}),E(this,C,{writable:!0,value:null}),E(this,M,{writable:!0,value:{}});var r={},i=e;if("string"==typeof i&&(i=document.body.querySelector(e)),i instanceof Element)if(this.render){if(i.hasAttribute("data-initial-state"))try{r=JSON.parse(i.getAttribute("data-initial-state"))}catch(t){console.error('Warning: "data-initial-state" must contain valid JSON')}u(this,C,i),this.setup=this.setup.bind(this),this.validate=this.validate.bind(this),this.render=this.render.bind(this),this.update=this.update.bind(this),this.subscribe(this.validate),this.subscribe(this.render),this.subscribe(this.update),this.setState(T(T({},r),n)),this.setup(),this.validate(this.state,{},this),this.render(this.state,{},this),this.update(this.state,{},this),u(this,A,!0),S.add(this)}else console.error('Warning: components must have a "render" method');else console.error("Warning: the root element must be an HTML element")}var e,r,i;return e=t,i=[{key:"instances",get:function(){return Array.from(S)}}],(r=[{key:"components",get:function(){return Object.fromEntries(l(this,P))},set:function(e){var r=this;Object.entries(e).forEach((function(e){var i=n(e,2),o=i[0],a=i[1];a instanceof t?(l(r,P).has(o)&&l(r,P).get(o).destroy(),l(r,P).set(o,a)):console.error('Warning: component "'.concat(o,'" is not an instance of "Component"'))}))}},{key:"displayName",get:function(){var t=this.constructor,e=t.name;return t.displayName||e}},{key:"listeners",get:function(){return Object.fromEntries(l(this,_))},set:function(t){var e=this;Object.entries(t).forEach((function(t){var r=n(t,2),i=r[0],o=r[1];"function"==typeof(null==o?void 0:o.destroy)?(l(e,_).has(i)&&l(e,_).get(i).destroy(),l(e,_).set(i,o)):console.error('Warning: listener "'.concat(i,'" is missing a "destroy" function'))}))}},{key:"initialized",get:function(){return l(this,A)}},{key:"rootElement",get:function(){return l(this,C)}},{key:"state",get:function(){return T({},l(this,M))},set:function(t){this.initialized?console.error('Warning: state can only be updated via "setState" after initialization'):this.setState(t)}},{key:"destroy",value:function(){l(this,W).clear(),l(this,_).forEach((function(t){return t.destroy()})),l(this,P).forEach((function(t){return t.destroy()})),S.delete(this)}},{key:"setState",value:function(t){var e=this,r=this.constructor,i=r.defaultState,o=void 0===i?{}:i;r.stateTypes;var a=this.state,c={};if(Object.entries(t).forEach((function(t){var e=n(t,2),r=e[0],i=e[1];i!==a[r]&&(c[r]=i)})),Object.keys(c).length>0||!this.initialized){var s=T(T({},a),c);Object.keys(o).forEach((function(t){void 0===s[t]&&(s[t]=o[t])})),u(this,M,s),this.initialized&&l(this,W).forEach((function(t){t(c,a,e)}))}}},{key:"subscribe",value:function(t){"function"==typeof t?l(this,W).has(t)||l(this,W).add(t):console.error('Warning: a function must be provided to "subscribe"')}},{key:"unsubscribe",value:function(t){l(this,W).has(t)&&l(this,W).delete(t)}},{key:"setup",value:function(){}},{key:"validate",value:function(){}},{key:"update",value:function(){}}])&&c(e.prototype,r),i&&c(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function z(t){return function(){var e=document.querySelectorAll("[data-initialize]"),n=[];return Array.from(e).forEach((function(e){var r=e.getAttribute("data-initialize"),i=t[r];i.prototype instanceof x?(e.removeAttribute("data-initialize"),n.push(new i(e))):console.error('Warning: "'.concat(r,'" is not a valid "Component" constructor'))})),n}}function D(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.addEventListener.apply(t,n),{destroy:function(){t.removeEventListener.apply(t,n)}}}function R(t,e){Object.entries(null!=e?e:{}).forEach((function(e){var r=n(e,2),i=r[0],o=r[1];null===o?t.removeAttribute(i):void 0!==o&&t.setAttribute(i,o)}))}var L,I,q=Object.freeze({__proto__:null,Component:x,addEventListener:D,createElement:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=document.createElement(t);return R(r,e),"string"==typeof n?r.innerHTML=n:r.appendChild(n),r},createInitializer:z,createMediaQueryListener:function(t,e){var n=window.matchMedia(t);return n.addEventListener("change",e),{media:n,destroy:function(){n.removeEventListener("change",e)}}},createMutationObserver:function(t,e,n){var r=new MutationObserver(e);return r.observe(t,n),{observer:r,destroy:function(){r.disconnect()}}},setAttributes:R}),H={};({get exports(){return H},set exports(t){H=t}}).exports=function(){if(I)return L;I=1;var t=j?w:(j=1,w="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");function e(){}function n(){}return n.resetWarningCache=e,L=function(){function r(e,n,r,i,o,a){if(a!==t){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function i(){return r}r.isRequired=r;var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o}}()();function N(){var t,e,n,r,i,o,a,c,s,u,l=this;return t=b(b({},this.state),{},{uniqueId:this.id,totalTabs:this.elements.tabs.length,totalPanels:this.elements.panels.length,changeTab:function(t){l.setState({activeTab:t})},focusOnTab:function(t){l.elements.tabs[t].focus()}}),e=t.uniqueId,n=t.activeTab,r=t.manual,i=t.totalTabs,o=t.totalPanels,a=t.changeTab,c=t.focusOnTab,s=Array.from(Array(i).keys()),u=Array.from(Array(o).keys()),i!==o&&console.error("Warning: Tabs must have an equal number of tabs and panels. Found ".concat(i," tabs and ").concat(o," panels.")),(n<0||n>=i)&&console.error('Warning: There is no tab for index: "'.concat(n,'"')),{htmlAttributes:{tablist:{role:"tablist"},tabs:s.map((function(t){return{type:"button",role:"tab",id:"".concat(e,"-tab-").concat(t),"aria-controls":"".concat(e,"-panel-").concat(t),"aria-selected":n===t,"data-active":n===t}})),panels:u.map((function(t){return{role:"tabpanel",id:"".concat(e,"-panel-").concat(t),"aria-labelledby":"".concat(e,"-tab-").concat(t),"data-active":n===t}}))},eventHandlers:{tabs:s.map((function(t){return{click:function(){a(t)},focus:function(){r||a(t)},keydown:function(e){r||("ArrowRight"===e.key?c(t===i-1?0:t+1):"ArrowLeft"===e.key&&c(0===t?i-1:t-1))}}}))}}}var F=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(o,t);var e,n,r,i=g(o);function o(){return p(this,o),i.apply(this,arguments)}return e=o,n=[{key:"setup",value:function(){var t=this.rootElement;this.id=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(t)).reduce((function(t,e){return t+((e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_")}),"")}(8),this.elements={tablist:t.querySelector("[data-tablist]"),tabs:Array.from(t.querySelectorAll(":scope > * > [data-tab]")),panels:Array.from(t.querySelectorAll(":scope > [data-panel]"))},this.listeners={tabClick:D(t,"click",this.handleTabClick.bind(this)),tabFocus:D(t,"focus",this.handleTabFocus.bind(this),!0),tabKeyDown:D(t,"keydown",this.handleTabKeyDown.bind(this))}}},{key:"handleTabClick",value:function(t){var e=this.elements.tabs;if(e.includes(t.target)){var n=e.indexOf(t.target);N.call(this).eventHandlers.tabs[n].click(t)}}},{key:"handleTabFocus",value:function(t){var e=this.elements.tabs;if(e.includes(t.target)){var n=e.indexOf(t.target);N.call(this).eventHandlers.tabs[n].focus(t)}}},{key:"handleTabKeyDown",value:function(t){var e=this.elements.tabs;if(e.includes(t.target)){var n=e.indexOf(t.target);N.call(this).eventHandlers.tabs[n].keydown(t)}}},{key:"render",value:function(t){var e=this.elements,n=e.tablist,r=e.tabs,i=e.panels,o=N.call(this).htmlAttributes;this.initialized||R(n,o.tablist),"activeTab"in t&&(r.forEach((function(t,e){R(t,o.tabs[e])})),i.forEach((function(t,e){R(t,o.panels[e])})))}}],r=[{key:"stateTypes",get:function(){return{activeTab:H.number,manual:H.bool}}},{key:"defaultState",get:function(){return{activeTab:0,manual:!1}}}],n&&y(e.prototype,n),r&&y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(x),U=F,B=Object.freeze({__proto__:null,Tabs:U}),K=z(B);K(),t.components=B,t.froyojs=q,t.initialize=K}));
