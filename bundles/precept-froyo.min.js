!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).precept={})}(this,(function(t){"use strict";function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function n(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function a(t,e,n){return(e=d(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function u(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var b,p,y,v,m,g,w,O,j;function k(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function E(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n}var T=new Set,S=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t),y.set(this,new Map),v.set(this,{}),m.set(this,!1),g.set(this,new Map),w.set(this,new Set),O.set(this,void 0),j.set(this,{});var o={},a=null;if("string"==typeof e?a=document.body.querySelector(e):e instanceof Element&&(a=e),!(a instanceof Element))throw new Error("Warning: the root element must be an HTML element");if(E(this,O,a,"f"),a.hasAttribute("data-initial-state"))try{o=JSON.parse(a.getAttribute("data-initial-state")||"")}catch(t){console.error('Warning: "data-initial-state" must contain valid JSON')}this.state=n(n({},o),i),this.setup&&this.setup(),this.validate&&(this.subscribe(this.validate.bind(this)),this.validate(this.state,{},this)),this.render&&(this.subscribe(this.render.bind(this)),this.render(this.state,{},this)),void 0!==this.update&&(this.subscribe(this.update.bind(this)),this.update(this.state,{},this)),E(this,m,!0,"f"),T.add(this)}return o(t,[{key:"components",get:function(){return Object.fromEntries(k(this,y,"f"))},set:function(e){var n=this;Object.entries(e).forEach((function(e){var r=l(e,2),i=r[0],o=r[1];if(o instanceof t){var a;if(k(n,y,"f").has(i))null===(a=k(n,y,"f").get(i))||void 0===a||a.destroy();k(n,y,"f").set(i,o)}else console.error('Warning: component "'.concat(i,'" is not an instance of "Component"'))}))}},{key:"displayName",get:function(){var t=this.constructor,e=t.name;return t.displayName||e}},{key:"elements",get:function(){return n({},k(this,v,"f"))},set:function(t){var e=this;Object.entries(t).forEach((function(t){var n=l(t,2),r=n[0],i=n[1];i instanceof Node||null===i?k(e,v,"f")[r]=i:i instanceof NodeList||i instanceof HTMLCollection?k(e,v,"f")[r]=Array.from(i):console.error('Warning: value assigned to "elements.'.concat(r,'" is not a valid DOM node'))}))}},{key:"listeners",get:function(){return Object.fromEntries(k(this,g,"f"))},set:function(t){var e=this;Object.entries(t).forEach((function(t){var n=l(t,2),r=n[0],i=n[1];if("function"==typeof(null==i?void 0:i.destroy)){var o;if(k(e,g,"f").has(r))null===(o=k(e,g,"f").get(r))||void 0===o||o.destroy();k(e,g,"f").set(r,i)}else console.error('Warning: listener "'.concat(r,'" is missing a "destroy" function'))}))}},{key:"initialized",get:function(){return k(this,m,"f")}},{key:"rootElement",get:function(){return k(this,O,"f")}},{key:"state",get:function(){return n({},k(this,j,"f"))},set:function(t){this.initialized?console.error('Warning: state can only be updated via "setState" after initialization'):this.setState(t)}},{key:"destroy",value:function(){k(this,w,"f").clear(),k(this,g,"f").forEach((function(t){return t.destroy()})),k(this,y,"f").forEach((function(t){return t.destroy()})),T.delete(this)}},{key:"setState",value:function(t){var e=this,r=this.constructor,i=r.defaultState,o=void 0===i?{}:i;r.stateTypes;var a=this.state,s={};if(Object.entries(t).forEach((function(t){var e=l(t,2),n=e[0],r=e[1];r!==a[n]&&(s[n]=r)})),Object.keys(s).length>0||!this.initialized){var c=n(n({},a),s);Object.keys(o).forEach((function(t){void 0===c[t]&&(c[t]=o[t])})),E(this,j,c,"f"),this.initialized&&k(this,w,"f").forEach((function(t){t(s,a,e)}))}}},{key:"subscribe",value:function(t){"function"==typeof t?k(this,w,"f").has(t)||k(this,w,"f").add(t):console.error('Warning: a function must be provided to "subscribe"')}},{key:"unsubscribe",value:function(t){k(this,w,"f").has(t)&&k(this,w,"f").delete(t)}}],[{key:"instances",get:function(){return Array.from(T)}}]),t}();function P(t){return function(){var e=document.querySelectorAll("[data-initialize]"),n=[];return Array.from(e).forEach((function(e){var r=e.getAttribute("data-initialize")||"";r in t&&t[r].prototype instanceof S?(e.removeAttribute("data-initialize"),n.push(new t[r](e))):console.error('Warning: "'.concat(r,'" is not a valid "Component" constructor'))})),n}}function A(t,e,n,r){return t.addEventListener(e,n,r),{destroy:function(){t.removeEventListener(e,n,r)}}}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.entries(e).forEach((function(e){var n=l(e,2),r=n[0],i=n[1];null===i?t.removeAttribute(r):void 0!==i&&t.setAttribute(r,i)}))}y=new WeakMap,v=new WeakMap,m=new WeakMap,g=new WeakMap,w=new WeakMap,O=new WeakMap,j=new WeakMap;var W=Object.freeze({__proto__:null,Component:S,addEventListener:A,createElement:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=document.createElement(t);return e&&_(r,e),"string"==typeof n?r.innerHTML=n:r.appendChild(n),r},createInitializer:P,createMediaQueryListener:function(t,e){var n=window.matchMedia(t);return n.addEventListener("change",e),{media:n,destroy:function(){n.removeEventListener("change",e)}}},createMutationObserver:function(t,e,n){var r=new MutationObserver(e);return r.observe(t,n),{observer:r,destroy:function(){r.disconnect()}}},setAttributes:_,setClasses:function(t,e){Object.entries(e).forEach((function(e){t.classList[e[1]?"add":"remove"](e[0])}))}}),C={manual:{type:Boolean,default:!1},activeTab:{type:Number,default:0}};var M,x,L={};function z(){var t,e,r,i,o,a,s,c,u,f,l=this;return t=n(n({},this.state),{},{uniqueId:this.id,totalTabs:this.elements.tabs.length,totalPanels:this.elements.panels.length,changeTab:function(t){l.setState({activeTab:t})},focusOnTab:function(t){l.elements.tabs[t].focus()}}),e=t.uniqueId,r=t.activeTab,i=t.manual,o=t.totalTabs,a=t.totalPanels,s=t.changeTab,c=t.focusOnTab,u=Array.from(Array(o).keys()),f=Array.from(Array(a).keys()),o!==a&&console.error("Warning: Tabs must have an equal number of tabs and panels. Found ".concat(o," tabs and ").concat(a," panels.")),(r<0||r>=o)&&console.error('Warning: There is no tab for index: "'.concat(r,'"')),{attributes:{tablist:{role:"tablist"},tabs:u.map((function(t){return{type:"button",role:"tab",id:"".concat(e,"-tab-").concat(t),"aria-controls":"".concat(e,"-panel-").concat(t),"aria-selected":r===t}})),panels:f.map((function(t){return{role:"tabpanel",id:"".concat(e,"-panel-").concat(t),"aria-labelledby":"".concat(e,"-tab-").concat(t),hidden:r!==t||null}}))},handlers:{tabs:u.map((function(t){return{click:function(){s(t)},focus:function(){i||s(t)},keydown:function(e){var n=o-1,r=t+1,a=t-1,s=-1;"ArrowRight"===e.key?s=t===n?0:r:"ArrowLeft"===e.key&&(s=0===t?n:a),!i&&s>-1&&c(s)}}}))}}}({get exports(){return L},set exports(t){L=t}}).exports=function(){if(x)return M;x=1;var t=p?b:(p=1,b="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");function e(){}function n(){}return n.resetWarningCache=e,M=function(){function r(e,n,r,i,o,a){if(a!==t){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function i(){return r}r.isRequired=r;var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o}}()();var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(n,t);var e=f(n);function n(){return r(this,n),e.apply(this,arguments)}return o(n,[{key:"setup",value:function(){var t=this.rootElement;this.id=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(t)).reduce((function(t,e){return t+((e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_")}),"")}(8),this.elements={tablist:t.querySelector("[data-tablist]"),tabs:t.querySelectorAll(":scope > * > [data-tab]"),panels:t.querySelectorAll(":scope > [data-panel]")},this.listeners={tabClick:A(t,"click",this.handleTabClick.bind(this)),tabFocus:A(t,"focus",this.handleTabFocus.bind(this),!0),tabKeyDown:A(t,"keydown",this.handleTabKeyDown.bind(this))}}},{key:"handleTabClick",value:function(t){var e=this.elements.tabs;if(e.includes(t.target)){var n=e.indexOf(t.target);z.call(this).handlers.tabs[n].click(t)}}},{key:"handleTabFocus",value:function(t){var e=this.elements.tabs;if(e.includes(t.target)){var n=e.indexOf(t.target);z.call(this).handlers.tabs[n].focus(t)}}},{key:"handleTabKeyDown",value:function(t){var e=this.elements.tabs;if(e.includes(t.target)){var n=e.indexOf(t.target);z.call(this).handlers.tabs[n].keydown(t)}}},{key:"render",value:function(t){var e=this.elements,n=e.tablist,r=e.tabs,i=e.panels,o=z.call(this).attributes;this.initialized||_(n,o.tablist),"activeTab"in t&&(r.forEach((function(t,e){_(t,o.tabs[e])})),i.forEach((function(t,e){_(t,o.panels[e])})))}}],[{key:"stateTypes",get:function(){return function(t){var e={};return Object.keys(t).forEach((function(n){switch(t[n].type){case Boolean:e[n]=L.bool;break;case Number:e[n]=L.number}})),e}(C)}},{key:"defaultState",get:function(){return function(t){var e={};return Object.keys(t).forEach((function(n){e[n]=t[n].default})),e}(C)}}]),n}(S),D=R,I=Object.freeze({__proto__:null,Tabs:D}),N=P(I);N(),t.components=I,t.froyojs=W,t.initialize=N}));
